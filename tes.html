<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Mudik Gratis 2025</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #4CAF50;
            --accent-color: #FFC107;
            --text-color: #212121;
            --light-text: #757575;
            --background-color: #FAFAFA;
            --card-color: #FFFFFF;
            --error-color: #D32F2F;
            --whatsapp-color: #25D366;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        /* CSS untuk badge lisensi */
        .license-badge {
            display: flex;
            align-items: center;
            background-color: white;
            padding: 0.7rem;
            border-radius: 8px;
            margin: 1rem auto;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--accent-color);
            max-width: fit-content;
        }

        .badge-seal {
            position: relative;
            width: 70px;
            height: 70px;
            margin-right: 1rem;
            border: 2px solid var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .badge-seal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 1px dashed var(--accent-color);
            border-radius: 50%;
            margin: 3px;
        }

        .badge-inner {
            width: 54px;
            height: 54px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .badge-logo {
            font-size: 30px;
            color: white;
        }

        .badge-text {
            display: flex;
            flex-direction: column;
        }

        .badge-title {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .badge-subtitle {
            font-size: 0.8rem;
            color: var(--primary-color);
            margin-bottom: 0.3rem;
        }

        .badge-org {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--light-text);
        }

        @media (max-width: 768px) {
            .license-badge {
                flex-direction: column;
                text-align: center;
                padding: 0.8rem;
            }
            
            .badge-seal {
                margin-right: 0;
                margin-bottom: 0.8rem;
            }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem 1rem;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            margin-bottom: 2rem;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin-bottom: 2rem;
        }
        
        .cta-button {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--text-color);
            font-weight: bold;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .cta-button:hover {
            background-color: #FFA000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .section {
            margin-bottom: 3rem;
        }
        
        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            color: var(--primary-color);
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: var(--secondary-color);
        }
        
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .card {
            background-color: var(--card-color);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        .card-text {
            margin-bottom: 1rem;
            color: var(--light-text);
        }
        
        .form-container {
            background-color: var(--card-color);
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
        }
        
        .form-select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            background-color: white;
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .error-message {
            color: var(--error-color);
            font-size: 0.85rem;
            margin-top: 0.3rem;
            display: none;
        }
        
        /* ===== PROGRESS BAR VISUAL BARU ===== */
        .progress-container {
            position: relative;
            margin: 0 auto 2.5rem;
            max-width: 600px;
        }

        .progress-bar {
            position: relative;
            counter-reset: step;
            z-index: 1;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #e0e0e0;
            transform: translateY(-50%);
            z-index: -1;
        }

        .progress-bar-fill {
            position: absolute;
            top: 50%;
            left: 0;
            height: 4px;
            background-color: var(--primary-color);
            transform: translateY(-50%);
            z-index: -1;
            transition: width 0.5s ease-in-out;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-icon-container {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #fff;
            border: 3px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }

        .step-icon {
            font-size: 24px;
            color: #bdbdbd;
            transition: all 0.3s ease;
        }

        .step-label {
            font-size: 14px;
            font-weight: 600;
            color: #757575;
            text-align: center;
            transition: all 0.3s ease;
            max-width: 100px;
        }

        .progress-step.active .step-icon-container {
            border-color: var(--primary-color);
            background-color: #f1f8e9;
            transform: scale(1.1);
        }

        .progress-step.active .step-icon {
            color: var(--primary-color);
        }

        .progress-step.active .step-label {
            color: var(--primary-color);
            font-weight: 700;
        }

        .progress-step.completed .step-icon-container {
            border-color: var(--secondary-color);
            background-color: var(--secondary-color);
        }

        .progress-step.completed .step-icon {
            color: white;
            display: none;
        }

        .progress-step.completed .step-label {
            color: var(--secondary-color);
        }

        .checkmark {
            display: none;
            font-size: 26px;
            color: white;
            position: absolute;
            opacity: 0;
            transform: scale(0);
            animation: scale-in 0.3s forwards;
        }

        .progress-step.completed .checkmark {
            display: block;
        }

        @keyframes scale-in {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ===== ANIMASI TRANSISI SLIDE ===== */
        .steps-container {
            position: relative;
            overflow: hidden;
            min-height: 450px;
        }

        .step {
            position: absolute;
            width: 100%;
            opacity: 0;
            visibility: hidden;
            transform: translateX(50px);
            transition: all 0.5s ease-in-out;
        }

        .step.incoming {
            transform: translateX(-50px);
        }

        .step.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
            position: relative;
        }

        .step.outgoing-left {
            transform: translateX(-50px);
            opacity: 0;
            visibility: hidden;
        }

        .step.outgoing-right {
            transform: translateX(50px);
            opacity: 0;
            visibility: hidden;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .info-box {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0 5px 5px 0;
        }
        
        .info-box-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem 0;
            margin-top: 4rem;
        }
        
        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 2rem;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
        }
        
        .footer-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-color);
            display: inline-block;
        }
        
        .footer-links a {
            display: block;
            color: white;
            text-decoration: none;
            margin-bottom: 0.5rem;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--accent-color);
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-links a {
            color: white;
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }
        
        .social-links a:hover {
            color: var(--accent-color);
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: var(--card-color);
            margin: 10% auto;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: modalopen 0.4s;
        }
        
        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }
        
        .close-modal {
            position: absolute;
            right: 1.5rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .close-modal:hover {
            color: var(--error-color);
        }
        
        .success-message {
            text-align: center;
            color: var(--primary-color);
        }
        
        .success-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        /* WhatsApp Section */
        .whatsapp-section {
            background-color: #FFF9C4;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            text-align: left;
        }
        
        .whatsapp-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .format-box {
            background-color: white;
            border: 1px dashed var(--secondary-color);
            padding: 10px;
            margin: 8px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .whatsapp-button {
            background-color: var(--whatsapp-color);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        /* Responsiveness */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .footer-content {
                flex-direction: column;
            }
            
            .modal-content {
                margin: 15% auto;
                width: 95%;
                padding: 1.5rem;
            }
            
            .step-icon-container {
                width: 50px;
                height: 50px;
            }
            
            .step-icon {
                font-size: 20px;
            }
            
            .step-label {
                font-size: 12px;
                max-width: 70px;
            }
        }
        
        @media (max-width: 480px) {
            .step-icon-container {
                width: 40px;
                height: 40px;
            }
            
            .step-icon {
                font-size: 18px;
            }
            
            .step-label {
                font-size: 11px;
                max-width: 60px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Program Mudik Gratis 2025</h1>
            <p>Kembali ke kampung halaman dengan aman dan nyaman</p>
            
            <!-- Badge Lisensi ditambahkan di sini -->
            <div class="license-badge">
                <div class="badge-seal">
                    <div class="badge-inner">
                        <div class="badge-logo">🦅</div>
                    </div>
                </div>
                <div class="badge-text">
                    <div class="badge-title">Program Resmi</div>
                    <div class="badge-subtitle">No. Lisensi: MUDIK-2025/KP/0023</div>
                    <div class="badge-org">Kementerian Perhubungan RI</div>
                </div>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <h1>Mudik Gratis untuk Semua</h1>
        <p>Program mudik gratis dari pemerintah untuk memfasilitasi perjalanan mudik Anda. Daftarkan diri dan keluarga sekarang untuk mendapatkan tiket mudik gratis ke berbagai daerah di Indonesia.</p>
        <a href="#daftar" class="cta-button">Daftar Sekarang</a>
    </section>
    
    <div class="container">
        <section class="section">
            <h2 class="section-title">Informasi Program</h2>
            
            <div class="cards">
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">🚌</div>
                        <h3 class="card-title">Bus Eksekutif</h3>
                        <p class="card-text">Armada bus eksekutif dengan fasilitas lengkap untuk kenyamanan perjalanan mudik Anda.</p>
                        <ul>
                            <li>AC</li>
                            <li>Reclining seat</li>
                            <li>Toilet</li>
                            <li>Snack & air mineral</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">🚆</div>
                        <h3 class="card-title">Kereta Api</h3>
                        <p class="card-text">Perjalanan mudik dengan kereta api untuk rute-rute tertentu di Pulau Jawa.</p>
                        <ul>
                            <li>Gerbong khusus</li>
                            <li>AC</li>
                            <li>Kursi nyaman</li>
                            <li>Makanan & minuman</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">🚢</div>
                        <h3 class="card-title">Kapal Laut</h3>
                        <p class="card-text">Perjalanan mudik dengan kapal laut untuk rute antar pulau.</p>
                        <ul>
                            <li>Kabin khusus</li>
                            <li>Fasilitas makan</li>
                            <li>Area rekreasi</li>
                            <li>Keamanan terjamin</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="section" id="daftar">
            <h2 class="section-title">Formulir Pendaftaran</h2>
            <div class="info-box" style="margin-bottom: 20px;">
                <div class="info-box-title">Petunjuk Pendaftaran</div>
                <p>Silakan isi formulir di bawah ini untuk mendaftar program mudik gratis. Setelah mengisi formulir, Anda akan menerima nomor registrasi pendaftaran.</p>
                <p><strong>⚠️ PENTING:</strong> Harap simpan nomor registrasi Anda sebagai bukti pendaftaran dan lakukan konfirmasi melalui WhatsApp untuk mengamankan tempat Anda.</p>
            </div>
            <div class="form-container">
                <!-- PROGRESS BAR BARU - menggantikan steps-indicator -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
                        <div class="progress-steps">
                            <div class="progress-step active" id="progressStep1">
                                <div class="step-icon-container">
                                    <span class="step-icon">👤</span>
                                    <span class="checkmark">✓</span>
                                </div>
                                <div class="step-label">Data Pribadi</div>
                            </div>
                            <div class="progress-step" id="progressStep2">
                                <div class="step-icon-container">
                                    <span class="step-icon">🚌</span>
                                    <span class="checkmark">✓</span>
                                </div>
                                <div class="step-label">Perjalanan</div>
                            </div>
                            <div class="progress-step" id="progressStep3">
                                <div class="step-icon-container">
                                    <span class="step-icon">📋</span>
                                    <span class="checkmark">✓</span>
                                </div>
                                <div class="step-label">Konfirmasi</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <form id="registrationForm">
                    <!-- Bungkus semua steps dalam container untuk animasi -->
                    <div class="steps-container">
                        <div class="step active" id="step1">
                            <h3>Data Pribadi</h3>
                            <div class="form-group">
                                <label for="name" class="form-label">Nama Lengkap</label>
                                <input type="text" id="name" class="form-input" required>
                                <div class="error-message">Nama lengkap harus diisi</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="nik" class="form-label">NIK (Nomor Induk Kependudukan)</label>
                                <input type="text" id="nik" class="form-input" required minlength="16" maxlength="16">
                                <div class="error-message">NIK harus 16 digit</div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="birthPlace" class="form-label">Tempat Lahir</label>
                                    <input type="text" id="birthPlace" class="form-input" required>
                                    <div class="error-message">Tempat lahir harus diisi</div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="birthDate" class="form-label">Tanggal Lahir</label>
                                    <input type="date" id="birthDate" class="form-input" required>
                                    <div class="error-message">Tanggal lahir harus diisi</div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="gender" class="form-label">Jenis Kelamin</label>
                                <select id="gender" class="form-select" required>
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="L">Laki-laki</option>
                                    <option value="P">Perempuan</option>
                                </select>
                                <div class="error-message">Jenis kelamin harus dipilih</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="address" class="form-label">Alamat Lengkap</label>
                                <textarea id="address" class="form-input" rows="3" required></textarea>
                                <div class="error-message">Alamat harus diisi</div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="phone" class="form-label">Nomor HP</label>
                                    <input type="tel" id="phone" class="form-input" required>
                                    <div class="error-message">Nomor HP harus diisi dengan benar</div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" id="email" class="form-input" required>
                                    <div class="error-message">Email harus diisi dengan benar</div>
                                </div>
                            </div>
                            
                            <div class="nav-buttons">
                                <div></div>
                                <button type="button" class="cta-button" id="nextToStep2">Selanjutnya</button>
                            </div>
                        </div>
                        
                        <div class="step" id="step2">
                            <h3>Data Perjalanan</h3>
                            
                            <div class="form-group">
                                <label for="origin" class="form-label">Kota Asal</label>
                                <input type="text" id="origin" class="form-input" placeholder="Masukkan kota asal Anda" required>
                                <div class="error-message">Kota asal harus diisi</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="destination" class="form-label">Kota Tujuan</label>
                                <input type="text" id="destination" class="form-input" placeholder="Masukkan kota tujuan Anda" required>
                                <div class="error-message">Kota tujuan harus diisi</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="transportMode" class="form-label">Moda Transportasi</label>
                                <select id="transportMode" class="form-select" required>
                                    <option value="">Pilih Moda Transportasi</option>
                                    <option value="Bus">Bus</option>
                                    <option value="Kereta">Kereta</option>
                                    <option value="Kapal">Kapal</option>
                                </select>
                                <div class="error-message">Moda transportasi harus dipilih</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="departureDate" class="form-label">Tanggal Keberangkatan</label>
                                <input type="date" id="departureDate" class="form-input" required>
                                <div class="error-message">Tanggal keberangkatan harus dipilih</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="passengers" class="form-label">Jumlah Penumpang</label>
                                <input type="number" id="passengers" class="form-input" min="1" max="4" value="1" required>
                                <div class="error-message">Jumlah penumpang maksimal 4 orang</div>
                            </div>
                            
                            <div id="additionalPassengers"></div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="cta-button" id="prevToStep1">Sebelumnya</button>
                                <button type="button" class="cta-button" id="nextToStep3">Selanjutnya</button>
                            </div>
                        </div>
                        
                        <div class="step" id="step3">
                            <h3>Konfirmasi Data</h3>
                            
                            <div class="info-box">
                                <div class="info-box-title">Perhatian!</div>
                                <p>Mohon periksa kembali data yang Anda masukkan. Pastikan semua data sudah benar sebelum mengirimkan formulir pendaftaran.</p>
                            </div>
                            
                            <div id="summaryData">
                                <!-- Summary data will be populated here -->
                            </div>
                            
                            <div class="form-group">
                                <label class="form-checkbox">
                                    <input type="checkbox" id="agreement" required>
                                    Saya menyatakan bahwa data yang saya masukkan adalah benar dan saya bersedia mengikuti seluruh ketentuan program mudik gratis 2025.
                                </label>
                                <div class="error-message">Anda harus menyetujui ketentuan program</div>
                            </div>
                            
                            <div class="nav-buttons">
                                <button type="button" class="cta-button" id="prevToStep2">Sebelumnya</button>
                                <button type="submit" class="cta-button" id="submitForm">Kirim Pendaftaran</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title">Pertanyaan Umum</h2>
            <div class="faq">
                <div class="card">
                    <div class="card-content">
                        <h3 class="card-title">Siapa yang berhak mendaftar program mudik gratis?</h3>
                        <p>Semua Warga Negara Indonesia yang memiliki KTP dan berdomisili di kota-kota yang termasuk dalam rute program mudik gratis 2025.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-content">
                        <h3 class="card-title">Berapa jumlah anggota keluarga yang dapat didaftarkan?</h3>
                        <p>Setiap pendaftar dapat mengajak maksimal 3 anggota keluarga, sehingga total 4 orang termasuk pendaftar.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-content">
                        <h3 class="card-title">Bagaimana proses seleksi peserta?</h3>
                        <p>Proses seleksi dilakukan berdasarkan kelengkapan data dan kuota yang tersedia untuk setiap rute. Prioritas diberikan kepada pendaftar yang terlebih dahulu menyelesaikan proses pendaftaran.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Modal sukses yang diperbarui dengan konfirmasi WhatsApp -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="success-message">
                <div class="success-icon">✓</div>
                <h3>Pendaftaran Berhasil!</h3>
                <p>Terima kasih telah mendaftar program mudik gratis 2025. Data Anda telah kami terima dan sedang dalam proses verifikasi.</p>
                <p>Nomor registrasi Anda: <strong id="registrationNumber">REG-2025-XXXXX</strong></p>
                
                <!-- Bagian konfirmasi WhatsApp -->
                <div class="whatsapp-section">
                    <p class="whatsapp-title">KONFIRMASI SEKARANG</p>
                    <p>Untuk mengamankan tempat Anda, segera kirim konfirmasi pendaftaran dengan format berikut:</p>
                    <div class="format-box">
                        <p>KONFIRMASI#<span id="regNumberText">REG-2025-XXXXX</span>#<span id="nameText">[Nama Anda]</span></p>
                    </div>
                    <button id="whatsappBtn" class="cta-button whatsapp-button">
                        <span>Konfirmasi via WhatsApp</span> 
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.57-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                        </svg>
                    </button>
                </div>
                
                <p class="info-box-title" style="color: #2E7D32; margin-top: 15px;">Mohon simpan nomor registrasi ini. Anda akan menerima tiket setelah konfirmasi WhatsApp dilakukan.</p>
                
                <button class="cta-button" id="closeModal" style="margin-top: 15px;">Kembali ke Beranda</button>
                <button class="cta-button" id="downloadRegistration" style="margin-top: 10px; background-color: var(--secondary-color);">Unduh Bukti Pendaftaran</button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Program Mudik Gratis 2025</h3>
                    <p>Program ini merupakan inisiatif pemerintah untuk memfasilitasi masyarakat dalam perjalanan mudik dengan aman, nyaman, dan gratis.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Link Terkait</h3>
                    <div class="footer-links">
                        <a href="#">Kementerian Perhubungan</a>
                        <a href="#">Ditjen Perhubungan Darat</a>
                        <a href="#">Posko Mudik Nasional</a>
                        <a href="#">Informasi Lalu Lintas</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Kontak</h3>
                    <p>Call Center: 150080</p>
                    <p>Email: mudikgratis@perhubungan.go.id</p>
                    <p>Bantuan: (021) 3456-7890</p>
                    <div class="social-links">
                        <a href="#">FB</a>
                        <a href="#">IG</a>
                        <a href="#">TW</a>
                        <a href="#">YT</a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Program Mudik Gratis. Hak Cipta Dilindungi.</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Set up jsPDF for download functionality
        window.jsPDF = window.jspdf.jsPDF;
        
        // Function to generate PDF from registration data
        function generatePDF(data) {
            const doc = new jsPDF();
            
            // Add header with logo
            doc.setFillColor(46, 125, 50);
            doc.rect(0, 0, 210, 40, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(22);
            doc.text('PROGRAM MUDIK GRATIS 2025', 105, 20, { align: 'center' });
            
            // Add registration details
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(16);
            doc.text('BUKTI PENDAFTARAN', 105, 50, { align: 'center' });
            
            doc.setFontSize(12);
            doc.text(`Nomor Registrasi: ${data.regNumber}`, 20, 65);
            doc.text(`Tanggal Pendaftaran: ${new Date().toLocaleDateString('id-ID')}`, 20, 75);
            
            doc.setFontSize(14);
            doc.text('DATA PENDAFTAR', 20, 90);
            doc.line(20, 92, 190, 92);
            
            doc.setFontSize(12);
            doc.text(`Nama: ${data.name}`, 20, 105);
            doc.text(`NIK: ${data.nik}`, 20, 115);
            doc.text(`Tempat, Tanggal Lahir: ${data.birthPlace}, ${formatDate(data.birthDate)}`, 20, 125);
            doc.text(`Jenis Kelamin: ${data.gender}`, 20, 135);
            doc.text(`Alamat: ${data.address}`, 20, 145);
            doc.text(`Telepon: ${data.phone}`, 20, 155);
            doc.text(`Email: ${data.email}`, 20, 165);
            
            doc.setFontSize(14);
            doc.text('INFORMASI PERJALANAN', 20, 180);
            doc.line(20, 182, 190, 182);
            
            doc.setFontSize(12);
            doc.text(`Kota Asal: ${data.origin}`, 20, 195);
            doc.text(`Kota Tujuan: ${data.destination}`, 20, 205);
            doc.text(`Moda Transportasi: ${data.transportMode}`, 20, 215);
            doc.text(`Tanggal Keberangkatan: ${data.departureDate}`, 20, 225);
            doc.text(`Jumlah Penumpang: ${data.passengersCount}`, 20, 235);
            
            // Tambahkan informasi konfirmasi WhatsApp
            doc.setFontSize(14);
            doc.text('INFORMASI KONFIRMASI', 20, 250);
            doc.line(20, 252, 190, 252);
            
            doc.setFontSize(12);
            doc.text('Silahkan konfirmasi pendaftaran Anda melalui tombol WhatsApp di aplikasi', 20, 260);
            doc.text(`Format: KONFIRMASI#${data.regNumber}#${data.name}`, 20, 268);
            
            // Footer
            doc.setFillColor(46, 125, 50);
            doc.rect(0, 270, 210, 25, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text('Dokumen ini merupakan bukti resmi pendaftaran program Mudik Gratis 2025', 105, 280, { align: 'center' });
            doc.text('Kementerian Perhubungan Republik Indonesia', 105, 285, { align: 'center' });
            
            // Save the PDF
            doc.save(`Bukti_Pendaftaran_Mudik_${data.regNumber}.pdf`);
        }

        // Function to update progress bar
        function updateProgressBar(stepNumber, totalSteps) {
            // Calculate progress percentage
            const progress = ((stepNumber - 1) / (totalSteps - 1)) * 100;
            
            // Update progress bar fill
            document.getElementById('progressBarFill').style.width = `${progress}%`;
            
            // Update step status
            for (let i = 1; i <= totalSteps; i++) {
                const stepEl = document.getElementById(`progressStep${i}`);
                
                if (i < stepNumber) {
                    stepEl.classList.remove('active');
                    stepEl.classList.add('completed');
                } else if (i === stepNumber) {
                    stepEl.classList.add('active');
                    stepEl.classList.remove('completed');
                } else {
                    stepEl.classList.remove('active', 'completed');
                }
            }
        }

        // Navigate with animation
        function navigateToStep(currentStep, targetStep) {
            const steps = document.querySelectorAll('.step');
            const currentStepEl = document.getElementById(`step${currentStep}`);
            const targetStepEl = document.getElementById(`step${targetStep}`);
            
            // Determine direction for animation
            const isForward = targetStep > currentStep;
            
            // Add appropriate animation classes
            if (isForward) {
                currentStepEl.classList.add('outgoing-left');
                targetStepEl.classList.remove('incoming');
            } else {
                currentStepEl.classList.add('outgoing-right');
                targetStepEl.classList.add('incoming');
            }
            
            // Remove active class from current step
            currentStepEl.classList.remove('active');
            
            // Add active class to target step with slight delay
            setTimeout(() => {
                targetStepEl.classList.add('active');
                targetStepEl.classList.remove('incoming', 'outgoing-left', 'outgoing-right');
                
                // Update progress bar
                updateProgressBar(targetStep, steps.length);
            }, 50);
            
            // Clean up animation classes after transition
            setTimeout(() => {
                currentStepEl.classList.remove('outgoing-left', 'outgoing-right');
            }, 500);
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize progress bar
            const steps = document.querySelectorAll('.step');
            updateProgressBar(1, steps.length);
            
            // Next buttons with enhanced navigation
            document.getElementById('nextToStep2').addEventListener('click', function() {
                if (validateStep1()) {
                    navigateToStep(1, 2);
                }
            });
            
            document.getElementById('nextToStep3').addEventListener('click', function() {
                if (validateStep2()) {
                    navigateToStep(2, 3);
                    populateSummary();
                }
            });
            
            // Previous buttons with enhanced navigation
            document.getElementById('prevToStep1').addEventListener('click', function() {
                navigateToStep(2, 1);
            });
            
            document.getElementById('prevToStep2').addEventListener('click', function() {
                navigateToStep(3, 2);
            });
            
            // Passengers change handler
            document.getElementById('passengers').addEventListener('change', function() {
                const count = parseInt(this.value);
                const container = document.getElementById('additionalPassengers');
                container.innerHTML = '';
                
                if (count > 1) {
                    for (let i = 2; i <= count; i++) {
                        const passengerDiv = document.createElement('div');
                        passengerDiv.innerHTML = `
                            <h4>Data Penumpang ${i}</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="passenger${i}Name" class="form-label">Nama Lengkap</label>
                                    <input type="text" id="passenger${i}Name" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label for="passenger${i}NIK" class="form-label">NIK</label>
                                    <input type="text" id="passenger${i}NIK" class="form-input" required minlength="16" maxlength="16">
                                </div>
                            </div>
                        `;
                        container.appendChild(passengerDiv);
                    }
                }
            });
            
            // Form submission
            document.getElementById('registrationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateStep3()) {
                    // Generate registration number
                    const regNumber = 'REG-2025-' + Math.floor(10000 + Math.random() * 90000);
                    const name = document.getElementById('name').value;
                    
                    // Set nomor registrasi dan nama di modal
                    document.getElementById('registrationNumber').textContent = regNumber;
                    document.getElementById('regNumberText').textContent = regNumber;
                    document.getElementById('nameText').textContent = name;
                    
                    // Collect registration data
                    const nik = document.getElementById('nik').value;
                    const birthPlace = document.getElementById('birthPlace').value;
                    const birthDate = document.getElementById('birthDate').value;
                    const gender = document.getElementById('gender').options[document.getElementById('gender').selectedIndex].text;
                    const address = document.getElementById('address').value;
                    const phone = document.getElementById('phone').value;
                    const email = document.getElementById('email').value;
                    
                    const origin = document.getElementById('origin').value;
                    const destination = document.getElementById('destination').value;
                    const transportMode = document.getElementById('transportMode').value;
                    const departureDate = document.getElementById('departureDate').value;
                    const passengersCount = document.getElementById('passengers').value;
                    
                    // Store registration data for download functionality
                    window.registrationData = {
                        regNumber,
                        name,
                        nik,
                        birthPlace,
                        birthDate,
                        gender,
                        address,
                        phone,
                        email,
                        origin,
                        destination,
                        transportMode,
                        departureDate,
                        passengersCount
                    };
                    
                    // Set up WhatsApp button click handler
                    const whatsappMessage = `KONFIRMASI#${regNumber}#${name}`;
                    document.getElementById('whatsappBtn').addEventListener('click', function() {
                        const whatsappURL = `https://wa.me/6285702402751?text=${encodeURIComponent(whatsappMessage)}`;
                        window.open(whatsappURL, '_blank');
                    });
                    
                    // Show success modal with animation
                    document.getElementById('successModal').style.display = 'block';
                    
                    // Add download functionality
                    document.getElementById('downloadRegistration').addEventListener('click', function() {
                        generatePDF(window.registrationData);
                    });
                }
            });
            
            // Close modal button
            document.getElementById('closeModal').addEventListener('click', function() {
                document.getElementById('successModal').style.display = 'none';
                window.scrollTo(0, 0);
                location.reload();
            });
            
            // Close modal when clicking on X
            document.querySelector('.close-modal').addEventListener('click', function() {
                document.getElementById('successModal').style.display = 'none';
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === document.getElementById('successModal')) {
                    document.getElementById('successModal').style.display = 'none';
                }
            });
        });
        
        // Form validation functions
        function validateStep1() {
            let valid = true;
            
            // Validate name
            const name = document.getElementById('name');
            if (!name.value.trim()) {
                showError(name, 'Nama lengkap harus diisi');
                valid = false;
            } else {
                hideError(name);
            }
            
            // Validate NIK
            const nik = document.getElementById('nik');
            if (!nik.value.trim() || nik.value.length !== 16 || isNaN(nik.value)) {
                showError(nik, 'NIK harus 16 digit angka');
                valid = false;
            } else {
                hideError(nik);
            }
            
            // Validate birth place
            const birthPlace = document.getElementById('birthPlace');
            if (!birthPlace.value.trim()) {
                showError(birthPlace, 'Tempat lahir harus diisi');
                valid = false;
            } else {
                hideError(birthPlace);
            }
            
            // Validate birth date
            const birthDate = document.getElementById('birthDate');
            if (!birthDate.value) {
                showError(birthDate, 'Tanggal lahir harus diisi');
                valid = false;
            } else {
                hideError(birthDate);
            }
            
            // Validate gender
            const gender = document.getElementById('gender');
            if (!gender.value) {
                showError(gender, 'Jenis kelamin harus dipilih');
                valid = false;
            } else {
                hideError(gender);
            }
            
            // Validate address
            const address = document.getElementById('address');
            if (!address.value.trim()) {
                showError(address, 'Alamat harus diisi');
                valid = false;
            } else {
                hideError(address);
            }
            
            // Validate phone
            const phone = document.getElementById('phone');
            if (!phone.value.trim() || isNaN(phone.value)) {
                showError(phone, 'Nomor HP harus diisi dengan benar');
                valid = false;
            } else {
                hideError(phone);
            }
            
            // Validate email
            const email = document.getElementById('email');
            if (!email.value.trim() || !isValidEmail(email.value)) {
                showError(email, 'Email harus diisi dengan benar');
                valid = false;
            } else {
                hideError(email);
            }
            
            return valid;
        }
        
        function validateStep2() {
            let valid = true;
            
            // Validate origin
            const origin = document.getElementById('origin');
            if (!origin.value.trim()) {
                showError(origin, 'Kota asal harus diisi');
                valid = false;
            } else {
                hideError(origin);
            }
            
            // Validate destination
            const destination = document.getElementById('destination');
            if (!destination.value.trim()) {
                showError(destination, 'Kota tujuan harus diisi');
                valid = false;
            } else {
                hideError(destination);
            }
            
            // Validate transport mode
            const transportMode = document.getElementById('transportMode');
            if (!transportMode.value) {
                showError(transportMode, 'Moda transportasi harus dipilih');
                valid = false;
            } else {
                hideError(transportMode);
            }
            
            // Validate departure date
            const departureDate = document.getElementById('departureDate');
            if (!departureDate.value) {
                showError(departureDate, 'Tanggal keberangkatan harus dipilih');
                valid = false;
            } else {
                hideError(departureDate);
            }
            
            // Validate passengers
            const passengersCount = parseInt(document.getElementById('passengers').value);
            if (passengersCount < 1 || passengersCount > 4) {
                showError(document.getElementById('passengers'), 'Jumlah penumpang harus 1-4 orang');
                valid = false;
            } else {
                hideError(document.getElementById('passengers'));
                
                // Validate additional passengers
                if (passengersCount > 1) {
                    for (let i = 2; i <= passengersCount; i++) {
                        const name = document.getElementById(`passenger${i}Name`);
                        const nik = document.getElementById(`passenger${i}NIK`);
                        
                        if (!name.value.trim()) {
                            showError(name, 'Nama lengkap harus diisi');
                            valid = false;
                        } else {
                            hideError(name);
                        }
                        
                        if (!nik.value.trim() || nik.value.length !== 16 || isNaN(nik.value)) {
                            showError(nik, 'NIK harus 16 digit angka');
                            valid = false;
                        } else {
                            hideError(nik);
                        }
                    }
                }
            }
            
            return valid;
        }
        
        function validateStep3() {
            let valid = true;
            
            // Validate agreement
            const agreement = document.getElementById('agreement');
            if (!agreement.checked) {
                showError(agreement, 'Anda harus menyetujui ketentuan program');
                valid = false;
            } else {
                hideError(agreement);
            }
            
            return valid;
        }
        
        function showError(input, message) {
            const errorElement = input.nextElementSibling;
            if (errorElement && errorElement.className === 'error-message') {
                errorElement.textContent = message;
                errorElement.style.display = 'block';
            }
            input.style.borderColor = 'var(--error-color)';
        }
        
        function hideError(input) {
            const errorElement = input.nextElementSibling;
            if (errorElement && errorElement.className === 'error-message') {
                errorElement.style.display = 'none';
            }
            input.style.borderColor = '#ddd';
        }
        
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(String(email).toLowerCase());
        }
        
        function populateSummary() {
            const summaryContainer = document.getElementById('summaryData');
            
            // Get all form values
            const name = document.getElementById('name').value;
            const nik = document.getElementById('nik').value;
            const birthPlace = document.getElementById('birthPlace').value;
            const birthDate = document.getElementById('birthDate').value;
            const gender = document.getElementById('gender').options[document.getElementById('gender').selectedIndex].text;
            const address = document.getElementById('address').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            const transportMode = document.getElementById('transportMode').value;
            const departureDate = document.getElementById('departureDate').value;
            const passengersCount = parseInt(document.getElementById('passengers').value);
            
            // Create summary HTML
            let summaryHTML = `
                <h4>Data Pribadi</h4>
                <p><strong>Nama:</strong> ${name}</p>
                <p><strong>NIK:</strong> ${nik}</p>
                <p><strong>Tempat, Tanggal Lahir:</strong> ${birthPlace}, ${formatDate(birthDate)}</p>
                <p><strong>Jenis Kelamin:</strong> ${gender}</p>
                <p><strong>Alamat:</strong> ${address}</p>
                <p><strong>Nomor HP:</strong> ${phone}</p>
                <p><strong>Email:</strong> ${email}</p>
                
                <h4>Data Perjalanan</h4>
                <p><strong>Kota Asal:</strong> ${origin}</p>
                <p><strong>Kota Tujuan:</strong> ${destination}</p>
                <p><strong>Moda Transportasi:</strong> ${transportMode}</p>
                <p><strong>Tanggal Keberangkatan:</strong> ${departureDate}</p>
                <p><strong>Jumlah Penumpang:</strong> ${passengersCount} orang</p>
            `;
            
            // Add additional passengers data if any
            if (passengersCount > 1) {
                summaryHTML += `<h4>Data Penumpang Tambahan</h4>`;
                for (let i = 2; i <= passengersCount; i++) {
                    const passengerName = document.getElementById(`passenger${i}Name`).value;
                    const passengerNIK = document.getElementById(`passenger${i}NIK`).value;
                    
                    summaryHTML += `
                        <p><strong>Penumpang ${i}:</strong> ${passengerName} (NIK: ${passengerNIK})</p>
                    `;
                }
            }
            
            // Add note about WhatsApp confirmation
            summaryHTML += `
                <div style="margin-top: 15px; padding: 10px; background-color: #FFF9C4; border-left: 4px solid #FFC107; border-radius: 4px;">
                    <p><strong>Catatan Penting:</strong> Setelah pendaftaran, Anda perlu melakukan konfirmasi via WhatsApp untuk mengamankan tempat Anda.</p>
                </div>
            `;
            
            // Set the summary HTML
            summaryContainer.innerHTML = summaryHTML;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate();
            const month = date.getMonth() + 1;
            const year = date.getFullYear();
            
            return `${day < 10 ? '0' + day : day}-${month < 10 ? '0' + month : month}-${year}`;
        }
    </script>
</body>
</html>
