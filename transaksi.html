<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rekber Form - Rekening Bersama</title>
    <style>
        :root {
            --primary-color: #1e88e5;
            --secondary-color: #fafafa;
            --accent-color: #ff6d00;
            --text-color: #333;
            --light-gray: #e0e0e0;
            --success-color: #4caf50;
        }
        
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--secondary-color);
            color: var(--text-color);
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 20px;
        }
        
        .language-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 20px;
        }
        
        .language-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .language-btn.indonesia {
            background-color: #ff0000;
            color: white;
        }
        
        .language-btn.international {
            background-color: #3498db;
            color: white;
        }
        
        .language-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .language-btn.active {
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.2);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 16px;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .submit-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 14px 28px;
            font-size: 18px;
            border-radius: 6px;
            cursor: pointer;
            display: block;
            margin: 30px auto 0;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            background-color: #e65100;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .currency-symbol {
            position: relative;
        }
        
        .currency-symbol input {
            padding-left: 30px;
        }
        
        .currency-symbol:before {
            content: attr(data-symbol);
            position: absolute;
            left: 12px;
            top: 13px;
            font-weight: bold;
            z-index: 1;
        }
        
        .hidden {
            display: none;
        }
        
        /* Transaction Result Page Styles */
        .result-container {
            text-align: center;
            padding: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .transaction-id {
            font-size: 32px;
            color: var(--primary-color);
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 6px;
            border: 2px dashed var(--primary-color);
        }
        
        .contact-btn {
            background-color: #4267B2;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .contact-btn:hover {
            background-color: #365899;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .contact-btn img {
            margin-right: 8px;
            width: 24px;
            height: 24px;
        }
        
        .success-icon {
            color: var(--success-color);
            font-size: 80px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Form Page -->
    <div id="form-page">
        <div class="container">
            <header>
                <h1 id="main-title">Form Rekening Bersama (Rekber)</h1>
                <p id="subtitle">Transaksi aman dengan jasa perantara terpercaya</p>
            </header>
            
            <div class="language-selector">
                <button id="btn-indonesia" class="language-btn indonesia active">Transaksi Indonesia</button>
                <button id="btn-international" class="language-btn international">International Transaction</button>
            </div>
            
            <form id="rekber-form">
                <h2 id="personal-info-title">Informasi Pribadi</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label id="buyer-label" for="buyer-name">Nama Pembeli</label>
                        <input type="text" id="buyer-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label id="seller-label" for="seller-name">Nama Penjual</label>
                        <input type="text" id="seller-name" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label id="buyer-contact-label" for="buyer-contact">Kontak Pembeli (WhatsApp)</label>
                        <input type="text" id="buyer-contact" required>
                    </div>
                    
                    <div class="form-group">
                        <label id="seller-contact-label" for="seller-contact">Kontak Penjual (WhatsApp)</label>
                        <input type="text" id="seller-contact" required>
                    </div>
                </div>
                
                <h2 id="transaction-info-title">Detail Transaksi</h2>
                
                <div class="form-group">
                    <label id="item-label" for="item-description">Deskripsi Barang/Jasa</label>
                    <textarea id="item-description" required></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label id="amount-label" for="transaction-amount">Jumlah Transaksi</label>
                        <div class="currency-symbol" data-symbol="Rp">
                            <input type="number" id="transaction-amount" min="0" step="1000" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label id="fee-label" for="fee-amount">Biaya Layanan (1%)</label>
                        <div class="currency-symbol" data-symbol="Rp">
                            <input type="number" id="fee-amount" readonly>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label id="payment-method-label" for="payment-method">Metode Pembayaran</label>
                        <select id="payment-method" required>
                            <option value="">-- Pilih Metode Pembayaran --</option>
                            <option value="bank-transfer">Transfer Bank</option>
                            <option value="e-wallet">E-Wallet</option>
                            <option value="paypal" class="international-only hidden">PayPal</option>
                            <option value="credit-card" class="international-only hidden">Credit Card</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label id="bank-label" for="bank-name">Nama Bank/E-Wallet</label>
                        <input type="text" id="bank-name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label id="notes-label" for="transaction-notes">Catatan Tambahan (Opsional)</label>
                    <textarea id="transaction-notes"></textarea>
                </div>
                
                <button type="submit" id="submit-btn" class="submit-btn">Buat Transaksi</button>
            </form>
        </div>
    </div>
    
    <!-- Transaction Result Page (Initially Hidden) -->
    <div id="result-page" class="hidden">
        <div class="container">
            <div class="result-container">
                <div class="success-icon">âœ“</div>
                <h2 id="success-title">Transaksi Berhasil Dibuat!</h2>
                <p id="success-message">Silahkan simpan ID Transaksi berikut untuk verifikasi dengan admin kami.</p>
                
                <div class="transaction-id" id="transaction-id"></div>
                
                <p id="contact-info">Klik tombol di bawah untuk menghubungi admin kami untuk verifikasi:</p>
                
                <a href="https://www.facebook.com/rekber.admin" target="_blank" class="contact-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">
                        <path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96C15.9 21.58 18.04 20.39 19.63 18.64C21.22 16.89 22.17 14.66 22.18 12.34C22.18 6.53 17.7 2.04 12 2.04Z"/>
                    </svg>
                    <span id="contact-btn-text">Hubungi Admin</span>
                </a>
                
                <p><a href="#" id="new-transaction" style="margin-top: 20px; display: inline-block;">Buat Transaksi Baru</a></p>
            </div>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const formPage = document.getElementById('form-page');
        const resultPage = document.getElementById('result-page');
        const rekberForm = document.getElementById('rekber-form');
        const btnIndonesia = document.getElementById('btn-indonesia');
        const btnInternational = document.getElementById('btn-international');
        const transactionAmount = document.getElementById('transaction-amount');
        const feeAmount = document.getElementById('fee-amount');
        const currencySymbols = document.querySelectorAll('.currency-symbol');
        const internationalOptions = document.querySelectorAll('.international-only');
        const transactionIdElement = document.getElementById('transaction-id');
        const newTransactionLink = document.getElementById('new-transaction');
        
        // Text elements for translation
        const elementsToTranslate = {
            'main-title': { id: 'Form Rekening Bersama (Rekber)', en: 'Escrow Service Form' },
            'subtitle': { id: 'Transaksi aman dengan jasa perantara terpercaya', en: 'Secure transactions with trusted intermediary service' },
            'personal-info-title': { id: 'Informasi Pribadi', en: 'Personal Information' },
            'buyer-label': { id: 'Nama Pembeli', en: 'Buyer Name' },
            'seller-label': { id: 'Nama Penjual', en: 'Seller Name' },
            'buyer-contact-label': { id: 'Kontak Pembeli (WhatsApp)', en: 'Buyer Contact (WhatsApp)' },
            'seller-contact-label': { id: 'Kontak Penjual (WhatsApp)', en: 'Seller Contact (WhatsApp)' },
            'transaction-info-title': { id: 'Detail Transaksi', en: 'Transaction Details' },
            'item-label': { id: 'Deskripsi Barang/Jasa', en: 'Item/Service Description' },
            'amount-label': { id: 'Jumlah Transaksi', en: 'Transaction Amount' },
            'fee-label': { id: 'Biaya Layanan (1%)', en: 'Service Fee (1%)' },
            'payment-method-label': { id: 'Metode Pembayaran', en: 'Payment Method' },
            'bank-label': { id: 'Nama Bank/E-Wallet', en: 'Bank/E-Wallet Name' },
            'notes-label': { id: 'Catatan Tambahan (Opsional)', en: 'Additional Notes (Optional)' },
            'submit-btn': { id: 'Buat Transaksi', en: 'Create Transaction' },
            'success-title': { id: 'Transaksi Berhasil Dibuat!', en: 'Transaction Successfully Created!' },
            'success-message': { id: 'Silahkan simpan ID Transaksi berikut untuk verifikasi dengan admin kami.', en: 'Please save the following Transaction ID for verification with our admin.' },
            'contact-info': { id: 'Klik tombol di bawah untuk menghubungi admin kami untuk verifikasi:', en: 'Click the button below to contact our admin for verification:' },
            'contact-btn-text': { id: 'Hubungi Admin', en: 'Contact Admin' },
            'new-transaction': { id: 'Buat Transaksi Baru', en: 'Create New Transaction' }
        };
        
        // Set default payment method options
        const paymentMethodOptions = {
            id: [
                { value: '', text: '-- Pilih Metode Pembayaran --' },
                { value: 'bank-transfer', text: 'Transfer Bank' },
                { value: 'e-wallet', text: 'E-Wallet' }
            ],
            en: [
                { value: '', text: '-- Select Payment Method --' },
                { value: 'bank-transfer', text: 'Bank Transfer' },
                { value: 'e-wallet', text: 'E-Wallet' },
                { value: 'paypal', text: 'PayPal' },
                { value: 'credit-card', text: 'Credit Card' }
            ]
        };
        
        // Default language
        let currentLanguage = 'id';
        
        // Function to calculate fee
        const calculateFee = () => {
            const amount = parseFloat(transactionAmount.value) || 0;
            const fee = amount * 0.01; // 1% service fee
            feeAmount.value = fee.toFixed(0);
        };
        
        // Function to switch language
        const switchLanguage = (language) => {
            currentLanguage = language;
            document.documentElement.lang = language;
            
            // Change currency symbol
            currencySymbols.forEach(element => {
                element.setAttribute('data-symbol', language === 'id' ? 'Rp' : '$');
            });
            
            // Update language-specific texts
            for (const id in elementsToTranslate) {
                const element = document.getElementById(id);
                if (element) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = elementsToTranslate[id][language];
                    } else if (element.tagName === 'OPTION') {
                        element.text = elementsToTranslate[id][language];
                    } else {
                        element.textContent = elementsToTranslate[id][language];
                    }
                }
            }
            
            // Update payment method options
            const paymentMethod = document.getElementById('payment-method');
            paymentMethod.innerHTML = '';
            
            paymentMethodOptions[language === 'id' ? 'id' : 'en'].forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.value;
                optionElement.textContent = option.text;
                if (option.value === 'paypal' || option.value === 'credit-card') {
                    optionElement.classList.add('international-only');
                    if (language === 'id') {
                        optionElement.classList.add('hidden');
                    }
                }
                paymentMethod.appendChild(optionElement);
            });
            
            // Show/Hide international payment options
            if (language === 'id') {
                internationalOptions.forEach(element => {
                    element.classList.add('hidden');
                });
            } else {
                internationalOptions.forEach(element => {
                    element.classList.remove('hidden');
                });
            }
        };
        
        // Generate transaction ID
        const generateTransactionId = () => {
            const timestamp = new Date().getTime().toString().slice(-6);
            const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
            const prefix = currentLanguage === 'id' ? 'IDN' : 'INT';
            return `${prefix}-${timestamp}-${random}`;
        };
        
        // Event Listeners
        btnIndonesia.addEventListener('click', () => {
            btnIndonesia.classList.add('active');
            btnInternational.classList.remove('active');
            switchLanguage('id');
        });
        
        btnInternational.addEventListener('click', () => {
            btnInternational.classList.add('active');
            btnIndonesia.classList.remove('active');
            switchLanguage('en');
        });
        
        transactionAmount.addEventListener('input', calculateFee);
        
        rekberForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Generate transaction ID
            const transactionId = generateTransactionId();
            transactionIdElement.textContent = transactionId;
            
            // Show result page, hide form page
            formPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            
            // Scroll to top
            window.scrollTo(0, 0);
        });
        
        newTransactionLink.addEventListener('click', (e) => {
            e.preventDefault();
            
            // Reset form
            rekberForm.reset();
            calculateFee();
            
            // Show form page, hide result page
            resultPage.classList.add('hidden');
            formPage.classList.remove('hidden');
            
            // Scroll to top
            window.scrollTo(0, 0);
        });
        
        // Initialize
        calculateFee();
        switchLanguage('id');
    </script>
</body>
</html>
