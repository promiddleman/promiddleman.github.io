<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaksi Rekber - Rekening Bersama</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --light-color: #f3f4f6;
            --dark-color: #1f2937;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9fafb;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .logo svg {
            margin-right: 10px;
        }
        
        nav {
            display: flex;
            gap: 15px;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .nav-link:hover {
            background-color: var(--light-color);
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        h1 {
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        h2 {
            color: var(--dark-color);
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        p {
            margin-bottom: 20px;
            color: #4b5563;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        .required::after {
            content: " *";
            color: var(--danger-color);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .input-error {
            border-color: var(--danger-color);
        }
        
        .error-message {
            color: var(--danger-color);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-1px);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-facebook {
            background-color: #1877f2;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        .btn-facebook:hover {
            background-color: #166fe5;
        }
        
        .btn-whatsapp {
            background-color: #25D366;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        .btn-whatsapp:hover {
            background-color: #128C7E;
        }
        
        .btn-secondary {
            background-color: #6B7280;
        }
        
        .btn-secondary:hover {
            background-color: #4B5563;
        }
        
        .segment-control {
            display: flex;
            width: 100%;
            margin-bottom: 25px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .segment-item {
            flex: 1;
            text-align: center;
            padding: 12px;
            cursor: pointer;
            font-weight: 500;
            background-color: #fff;
            transition: all 0.3s;
        }
        
        .segment-item.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .segment-item:not(.active):hover {
            background-color: var(--light-color);
        }
        
        .conditional-section {
            display: none;
        }
        
        .result-container {
            display: none;
            background-color: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .transaction-code {
            font-size: 24px;
            color: var(--primary-color);
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            letter-spacing: 2px;
            background-color: white;
            padding: 15px;
            border-radius: 4px;
            border: 1px dashed var(--primary-color);
        }
        
        .steps {
            margin-top: 20px;
        }
        
        .step {
            display: flex;
            margin-bottom: 15px;
        }
        
        .step-number {
            background-color: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .text-center {
            text-align: center;
        }
        
        .alert {
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .alert-error {
            background-color: #fee2e2;
            color: #b91c1c;
            border-left: 4px solid #ef4444;
        }
        
        .alert-success {
            background-color: #d1fae5;
            color: #065f46;
            border-left: 4px solid #10b981;
        }
        
        .alert-warning {
            background-color: #fff7ed;
            color: #c2410c;
            border-left: 4px solid #f59e0b;
        }
        
        .info-box {
            background-color: #f3f4f6;
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .crypto-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .crypto-table th, .crypto-table td {
            border: 1px solid #e5e7eb;
            padding: 10px;
            text-align: left;
        }
        
        .crypto-table th {
            background-color: #f9fafb;
            font-weight: 500;
        }
        
        .crypto-logo {
            width: 24px;
            height: 24px;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .crypto-name {
            display: flex;
            align-items: center;
        }
        
        /* Existing styles... */
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 12H2"></path>
                    <path d="M5 12V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v7"></path>
                    <path d="M9 21V8"></path>
                    <path d="M15 21V8"></path>
                    <path d="M5 16h14"></path>
                    <path d="M5 16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-4"></path>
                </svg>
                RekBer Indonesia
            </div>
            <a href="#" class="btn">Beranda</a>
        </div>
    </header>
    
    <div class="container">
        
        <div class="card">
            <h1>Mulai Transaksi Rekening Bersama</h1>
            <p>Isi formulir di bawah ini untuk memulai transaksi dengan rekening bersama. Setelah mengisi formulir, Anda akan mendapatkan kode transaksi yang dapat digunakan untuk verifikasi dengan admin.</p>
            
            <div class="info-box">
                <p><strong>Penting:</strong> Pastikan semua informasi yang dimasukkan benar dan sesuai dengan transaksi yang akan dilakukan. Admin akan melakukan verifikasi data sebelum transaksi diproses.</p>
            </div>
            
            <!-- Segment control for transaction type (domestic/international) -->
            <div class="form-group">
                <label class="required">Pilih Jenis Transaksi</label>
                <div class="segment-control" id="transactionRegion">
                    <div class="segment-item active" data-value="domestic">Dalam Negeri (IDR)</div>
                    <div class="segment-item" data-value="international">Internasional (USD)</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-step active">
                    <div class="step-circle">1</div>
                    <div class="step-label">Isi Data</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle">2</div>
                    <div class="step-label">Konfirmasi</div>
                </div>
                <div class="progress-step">
                    <div class="step-circle">3</div>
                    <div class="step-label">Selesai</div>
                </div>
            </div>
            
            <form id="rekberForm">
                <h2>Data Penjual</h2>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="sellerName" class="required">Nama Penjual</label>
                            <input type="text" id="sellerName" required>
                            <span class="error-message" id="sellerNameError">Nama penjual wajib diisi</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="sellerPhone" class="required">Nomor Telepon Penjual</label>
                            <input type="tel" id="sellerPhone" placeholder="contoh: 08xxxxxxxxxx" required>
                            <span class="error-message" id="sellerPhoneError">Format nomor telepon tidak valid</span>
                        </div>
                    </div>
                </div>
                
                <!-- Domestic banking options -->
                <div class="conditional-section" id="domesticSection" style="display: block;">
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="sellerBank" class="required">Bank Penjual</label>
                                <select id="sellerBank" required>
                                    <option value="">-- Pilih Bank --</option>
                                    <option value="BCA">BCA</option>
                                    <option value="Mandiri">Mandiri</option>
                                    <option value="BNI">BNI</option>
                                    <option value="BRI">BRI</option>
                                    <option value="CIMB">CIMB Niaga</option>
                                    <option value="Permata">Permata</option>
                                    <option value="other">Lainnya</option>
                                </select>
                                <span class="error-message" id="sellerBankError">Bank penjual wajib dipilih</span>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="sellerAccount" class="required">Nomor Rekening Penjual</label>
                                <input type="text" id="sellerAccount" placeholder="contoh: 1234567890" required>
                                <span class="error-message" id="sellerAccountError">Nomor rekening tidak valid</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- International payment options -->
                <div class="conditional-section" id="internationalSection">
                    <div class="form-group">
                        <label for="sellerInternationalPayment" class="required">Metode Pembayaran Internasional</label>
                        <select id="sellerInternationalPayment" required>
                            <option value="">-- Pilih Metode Pembayaran --</option>
                            <option value="paypal">PayPal</option>
                            <option value="wise">Wise (TransferWise)</option>
                            <option value="skrill">Skrill</option>
                            <option value="crypto">Cryptocurrency</option>
                            <option value="other_intl">Lainnya</option>
                        </select>
                        <span class="error-message" id="sellerInternationalPaymentError">Metode pembayaran wajib dipilih</span>
                    </div>
                    
                    <!-- PayPal specific input -->
                    <div class="conditional-section" id="paypalSection">
                        <div class="form-group">
                            <label for="paypalEmail" class="required">Email PayPal</label>
                            <input type="email" id="paypalEmail" placeholder="contoh: nama@email.com">
                            <span class="error-message" id="paypalEmailError">Email PayPal wajib diisi dengan format yang benar</span>
                        </div>
                    </div>
                    
                    <!-- Wise specific input -->
                    <div class="conditional-section" id="wiseSection">
                        <div class="form-group">
                            <label for="wiseEmail" class="required">Email Wise</label>
                            <input type="email" id="wiseEmail" placeholder="contoh: nama@email.com">
                            <span class="error-message" id="wiseEmailError">Email Wise wajib diisi dengan format yang benar</span>
                        </div>
                    </div>
                    
                    <!-- Skrill specific input -->
                    <div class="conditional-section" id="skrillSection">
                        <div class="form-group">
                            <label for="skrillEmail" class="required">Email Skrill</label>
                            <input type="email" id="skrillEmail" placeholder="contoh: nama@email.com">
                            <span class="error-message" id="skrillEmailError">Email Skrill wajib diisi dengan format yang benar</span>
                        </div>
                    </div>
                    
                    <!-- Crypto specific input -->
                    <div class="conditional-section" id="cryptoSection">
                        <div class="form-group">
                            <label for="cryptoCurrency" class="required">Pilih Cryptocurrency</label>
                            <select id="cryptoCurrency">
                                <option value="">-- Pilih Cryptocurrency --</option>
                                <option value="BTC">Bitcoin (BTC)</option>
                                <option value="ETH">Ethereum (ETH)</option>
                                <option value="USDT">Tether (USDT)</option>
                                <option value="USDC">USD Coin (USDC)</option>
                                <option value="BNB">Binance Coin (BNB)</option>
                            </select>
                            <span class="error-message" id="cryptoCurrencyError">Pilih jenis cryptocurrency</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="walletAddress" class="required">Alamat Wallet</label>
                            <input type="text" id="walletAddress" placeholder="Masukkan alamat wallet crypto lengkap">
                            <span class="error-message" id="walletAddressError">Alamat wallet wajib diisi</span>
                        </div>
                        
                        <div class="info-box">
                            <p><strong>Catatan:</strong> Pastikan alamat wallet yang dimasukkan sudah benar. Transaksi cryptocurrency bersifat irreversible (tidak dapat dibatalkan).</p>
                        </div>
                        
                        <h3>Informasi Rate Cryptocurrency</h3>
                        <table class="crypto-table">
                            <thead>
                                <tr>
                                    <th>Crypto</th>
                                    <th>Rate (USD)</th>
                                    <th>Biaya Transaksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="crypto-name">
                                        <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                            <circle cx="16" cy="16" r="16" fill="#F7931A"/>
                                            <path d="M21.8 14.1C22.1 12 20.6 11.2 18.6 10.7L19.2 8.2L17.7 7.8L17.1 10.2C16.7 10.1 16.3 10 15.9 9.9L16.5 7.5L15 7.1L14.4 9.6C14.1 9.5 13.7 9.4 13.4 9.3L11.4 8.8L11 10.4C11 10.4 12.1 10.7 12.1 10.7C12.8 10.9 12.9 11.4 12.9 11.7L12.2 14.7C12.2 14.7 12.3 14.7 12.3 14.7C12.3 14.7 12.2 14.7 12.2 14.7L11.3 18.8C11.2 19 11 19.3 10.5 19.2C10.5 19.2 9.5 18.9 9.5 18.9L8.7 20.6L10.6 21.1C10.9 21.2 11.3 21.3 11.6 21.4L11 23.9L12.5 24.3L13.1 21.8C13.5 21.9 13.9 22 14.3 22.1L13.7 24.6L15.2 25L15.8 22.5C18.5 23 20.5 22.7 21.3 20.3C22 18.3 21.2 17.1 19.7 16.3C20.8 16 21.6 15.3 21.8 14.1ZM18.2 19.2C17.7 21.2 14.7 20.2 13.5 19.9L14.4 16.3C15.5 16.6 18.7 17.1 18.2 19.2ZM18.7 14C18.3 15.8 15.8 15 14.8 14.7L15.6 11.5C16.5 11.8 19.1 12.2 18.7 14Z" fill="white"/>
                                        </svg>
                                        Bitcoin (BTC)
                                    </td>
                                    <td>$65,000</td>
                                    <td>0.0005 BTC</td>
                                </tr>
                                <tr>
                                    <td class="crypto-name">
                                        <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                            <circle cx="16" cy="16" r="16" fill="#627EEA"/>
                                            <path d="M16.498 4v8.87l7.497 3.35L16.498 4z" fill="#C5CCEC"/>
                                            <path d="M16.498 4L9 16.22l7.498-3.35V4z" fill="white"/>
                                            <path d="M16.498 21.968v6.027L24 17.616l-7.502 4.352z" fill="#C5CCEC"/>
                                            <path d="M16.498 27.995v-6.028L9 17.616l7.498 10.38z" fill="white"/>
                                            <path d="M16.498 20.573l7.497-4.353-7.497-3.348v7.701z" fill="#9AACE5"/>
                                            <path d="M9 16.22l7.498 4.353v-7.701L9 16.22z" fill="#C5CCEC"/>
                                        </svg>
                                        Ethereum (ETH)
                                    </td>
                                    <td>$3,500</td>
                                    <td>0.002 ETH</td>
                                </tr>
                                <tr>
                                    <td class="crypto-name">
                                        <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                            <circle cx="16" cy="16" r="16" fill="#26A17B"/>
                                            <path d="M17.922 17.383v-.002c-.11.008-.677.042-1.942.042-1.01 0-1.721-.03-1.971-.042v.003c-3.888-.171-6.79-.848-6.79-1.658 0-.809 2.902-1.486 6.79-1.66v2.644c.254.018.982.053 1.988.053 1.207 0 1.812-.05 1.925-.053v-2.643c3.88.173 6.775.85 6.775 1.658 0 .81-2.895 1.485-6.775 1.658m0-3.59v-2.366h5.414V7.819H8.656v3.608h5.266v2.365c-4.4.202-7.709 1.074-7.709 2.118 0 1.044 3.309 1.915 7.709 2.118v7.582h3.991v-7.584c4.393-.202 7.694-1.073 7.694-2.116 0-1.043-3.301-1.914-7.694-2.117" fill="white"/>
                                        </svg>
                                        Tether (USDT)
                                    </td>
                                    <td>$1.00</td>
                                    <td>1 USDT</td>
                                </tr>
                                <tr>
                                    <td class="crypto-name">
                                        <svg class="crypto-logo" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                            <circle cx="16" cy="16" r="16" fill="#2775CA"/>
                                            <path d="M16 24.5c-4.694 0-8.5-3.806-8.5-8.5s3.806-8.5 8.5-8.5c3.869 0 7.141 2.592 8.16 6.13h4.605C27.647 8.336 22.349 4 16 4 7.163 4 0 11.163 0 20s7.163 16 16 16c6.35 0 11.647-4.336 13.765-10.13H24.16c-1.019 3.538-4.29 6.13-8.16 6.13z" fill="white"/>
                                            <path d="M16.58 15.102v-.005h1.274v-1.577h-1.274v-1.485h-1.591v1.485h-1.273v1.577h1.273v.005c-2.697.285-4.322 1.538-4.322 3.037 0 1.71 2.094 3.096 4.979 3.096 2.845 0 4.938-1.387 4.938-3.096 0-1.499-1.624-2.752-4.322-3.037h.318zM16 18.578a6.876 6.876 0 01-3.25-.77c.032-1.136 1.596-2.046 3.25-2.046 1.652 0 3.214.91 3.246 2.046-.764.49-1.937.77-3.246.77z" fill="white"/>
                                        </svg>
                                        USD Coin (USDC)
                                    </td>
                                    <td>$1.00</td>
                                    <td>1 USDC</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Other international payment -->
                    <div class="conditional-section" id="otherIntlSection">
                        <div class="form-group">
                            <label for="otherIntlMethod" class="required">Nama Metode Pembayaran</label>
                            <input type="text" id="otherIntlMethod" placeholder="contoh: Western Union, MoneyGram, dll">
                            <span class="error-message" id="otherIntlMethodError">Nama metode pembayaran wajib diisi</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="otherIntlDetails" class="required">Detail Metode Pembayaran</label>
                            <textarea id="otherIntlDetails" placeholder="Masukkan informasi detail untuk metode pembayaran ini (nomor akun, email, dll)"></textarea>
                            <span class="error-message" id="otherIntlDetailsError">Detail metode pembayaran wajib diisi</span>
                        </div>
                    </div>
                </div>
                
                <h2>Data Pembeli</h2>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="buyerName" class="required">Nama Pembeli</label>
                            <input type="text" id="buyerName" required>
                            <span class="error-message" id="buyerNameError">Nama pembeli wajib diisi</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="buyerPhone" class="required">Nomor Telepon Pembeli</label>
                            <input type="tel" id="buyerPhone" placeholder="contoh: 08xxxxxxxxxx" required>
                            <span class="error-message" id="buyerPhoneError">Format nomor telepon tidak valid</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="buyerEmail">Email Pembeli (opsional)</label>
                    <input type="email" id="buyerEmail" placeholder="contoh: nama@email.com">
                    <span class="error-message" id="buyerEmailError">Format email tidak valid</span>
                </div>
                
                <h2>Detail Transaksi</h2>
                <div class="form-group">
                    <label for="itemDescription" class="required">Deskripsi Barang/Jasa</label>
                    <textarea id="itemDescription" placeholder="Jelaskan detail barang/jasa yang ditransaksikan" required></textarea>
                    <span class="error-message" id="itemDescriptionError">Deskripsi barang/jasa wajib diisi</span>
                </div>
                
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="amount" class="required">Jumlah Transaksi</label>
                            <div class="row">
                                <div class="col" style="width: 30%;">
                                    <select id="currencySelect" style="margin-bottom: 10px;">
                                        <option value="IDR" id="idrOption">IDR (Rp)</option>
                                        <option value="USD" id="usdOption">USD ($)</option>
                                    </select>
                                </div>
                                <div class="col" style="width: 70%;">
                                    <input type="number" id="amount" min="10000" placeholder="Minimal Rp10.000" required>
                                </div>
                            </div>
                            <span class="error-message" id="amountError">Jumlah transaksi minimal Rp10.000</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="paymentMethod" class="required">Metode Pembayaran</label>
                            <select id="paymentMethod" required>
                                <option value="">-- Pilih Metode --</option>
                                <option value="transfer" class="domestic-option">Transfer Bank</option>
                                <option value="ewallet" class="domestic-option">E-Wallet (OVO, GoPay, Dana)</option>
                                <option value="qris" class="domestic-option">QRIS</option>
                                <option value="paypal" class="international-option">PayPal</option>
                                <option value="wise" class="international-option">Wise</option>
                                <option value="crypto" class="international-option">Cryptocurrency</option>
                            </select>
                            <span class="error-message" id="paymentMethodError">Metode pembayaran wajib dipilih</span>
                        </div>
                    </div>
                </div>
                
                <!-- Price Summary -->
                <div class="price-summary" id="priceSummary">
                    <h3 style="margin-bottom: 10px;">Ringkasan Biaya</h3>
                    <div class="price-row">
                        <span>Nilai Transaksi</span>
                        <span id="transactionValue">Rp0</span>
                    </div>
                    <div class="price-row domestic-fee">
                        <span>Biaya Admin (1%)</span>
                        <span id="adminFee">Rp0</span>
                    </div>
                    <div class="price-row international-fee" style="display: none;">
                        <span>Biaya Admin Internasional (2%)</span>
                        <span id="adminFeeIntl">$0</span>
                    </div>
                    <div class="price-row crypto-fee" style="display: none;">
                        <span>Biaya Transaksi Crypto</span>
                        <span id="cryptoFee">-</span>
                    </div>
                    <div class="price-row total">
                        <span>Total Pembayaran</span>
                        <span id="totalPayment">Rp0</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="transactionType" class="required">Jenis Transaksi</label>
                    <select id="transactionType" required>
                        <option value="">-- Pilih Jenis Transaksi --</option>
                        <option value="goods">Barang Fisik</option>
                        <option value="digital">Produk Digital</option>
                        <option value="service">Jasa</option>
                    </select>
                    <span class="error-message" id="transactionTypeError">Jenis transaksi wajib dipilih</span>
                </div>
                
                <!-- Shipping Section (Only for physical goods) -->
                <div id="shippingSection" style="display: none;">
                    <h2 style="margin-top: 30px;">Informasi Pengiriman</h2>
                    
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="originCity">Kota Asal</label>
                                <select id="originCity">
                                    <option value="">-- Pilih Kota --</option>
                                    <option value="JKT">Jakarta</option>
                                    <option value="BDG">Bandung</option>
                                    <option value="SBY">Surabaya</option>
                                    <option value="SMG">Semarang</option>
                                    <option value="MDN">Medan</option>
                                </select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="destinationCity">Kota Tujuan</label>
                                <select id="destinationCity">
                                    <option value="">-- Pilih Kota --</option>
                                    <option value="JKT">Jakarta</option>
                                    <option value="BDG">Bandung</option>
                                    <option value="SBY">Surabaya</option>
                                    <option value="SMG">Semarang</option>
                                    <option value="MDN">Medan</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- International shipping options -->
                    <div id="internationalShipping" style="display: none;">
                        <div class="form-group">
                            <label for="internationalOriginCountry">Negara Asal</label>
                            <select id="internationalOriginCountry">
                                <option value="">-- Pilih Negara --</option>
                                <option value="ID">Indonesia</option>
                                <option value="US">United States</option>
                                <option value="SG">Singapore</option>
                                <option value="MY">Malaysia</option>
                                <option value="AU">Australia</option>
                                <option value="CN">China</option>
                                <option value="JP">Japan</option>
                                <option value="KR">South Korea</option>
                                <option value="UK">United Kingdom</option>
                                <option value="DE">Germany</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="internationalDestinationCountry">Negara Tujuan</label>
                            <select id="internationalDestinationCountry">
                                <option value="">-- Pilih Negara --</option>
                                <option value="ID">Indonesia</option>
                                <option value="US">United States</option>
                                <option value="SG">Singapore</option>
                                <option value="MY">Malaysia</option>
                                <option value="AU">Australia</option>
                                <option value="CN">China</option>
                                <option value="JP">Japan</option>
                                <option value="KR">South Korea</option>
                                <option value="UK">United Kingdom</option>
                                <option value="DE">Germany</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="weight">Berat Paket (gram)</label>
                        <input type="number" id="weight" min="100" placeholder="Contoh: 1000 untuk 1kg">
                    </div>
                    
                    <button type="button" id="calculateShipping" class="btn" style="margin-bottom: 20px;">Hitung Ongkir</button>
                    
                    <div class="shipping-calculator" id="shippingOptions" style="display: none;">
                        <h3 style="margin-bottom: 15px;">Pilih Jasa Pengiriman</h3>
                        
                        <!-- Domestic shipping options -->
                        <div id="domesticShippingOptions">
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shipping1" value="jne">
                                <img src="https://placekitten.com/50/25" alt="JNE" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">JNE Reguler</div>
                                    <div class="shipping-estimate">Estimasi 2-3 hari</div>
                                </div>
                                <div class="shipping-price">Rp18.000</div>
                            </div>
                            
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shipping2" value="jnt">
                                <img src="https://placekitten.com/50/25" alt="J&T" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">J&T Express</div>
                                    <div class="shipping-estimate">Estimasi 1-2 hari</div>
                                </div>
                                <div class="shipping-price">Rp20.000</div>
                            </div>
                            
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shipping3" value="sicepat">
                                <img src="https://placekitten.com/50/25" alt="SiCepat" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">SiCepat HALU</div>
                                    <div class="shipping-estimate">Estimasi 1 hari</div>
                                </div>
                                <div class="shipping-price">Rp22.000</div>
                            </div>
                        </div>
                        
                        <!-- International shipping options -->
                        <div id="internationalShippingOptions" style="display: none;">
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shippingIntl1" value="dhl">
                                <img src="https://placekitten.com/50/25" alt="DHL" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">DHL Express</div>
                                    <div class="shipping-estimate">Estimasi 3-5 hari</div>
                                </div>
                                <div class="shipping-price">$45.00</div>
                            </div>
                            
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shippingIntl2" value="fedex">
                                <img src="https://placekitten.com/50/25" alt="FedEx" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">FedEx International</div>
                                    <div class="shipping-estimate">Estimasi 2-4 hari</div>
                                </div>
                                <div class="shipping-price">$55.00</div>
                            </div>
                            
                            <div class="shipping-option">
                                <input type="radio" name="shipping" id="shippingIntl3" value="ups">
                                <img src="https://placekitten.com/50/25" alt="UPS" class="shipping-logo">
                                <div class="shipping-info">
                                    <div class="shipping-name">UPS Worldwide</div>
                                    <div class="shipping-estimate">Estimasi 3-6 hari</div>
                                </div>
                                <div class="shipping-price">$50.00</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="attachment">Lampirkan Bukti/Foto Barang (opsional)</label>
                    <div class="file-upload" id="fileUploadContainer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p>Klik untuk upload atau seret file ke sini</p>
                        <p style="font-size: 12px; color: #6b7280;">Maksimal 5MB (JPG, PNG, PDF)</p>
                        <input type="file" id="attachment" accept=".jpg,.jpeg,.png,.pdf">
                        <div class="file-name" id="fileName"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="notes">Catatan Tambahan (opsional)</label>
                    <textarea id="notes" placeholder="Informasi tambahan yang perlu diketahui admin"></textarea>
                </div>
                
                <div class="alert alert-warning">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <div>
                        <strong>Perhatian:</strong> Pastikan Anda hanya menggunakan rekening bersama resmi dengan admin yang telah diverifikasi. Jangan pernah mengirimkan uang tanpa verifikasi keaslian rekber.
                    </div>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="termsCheck" required>
                        Saya menyetujui <a href="#" target="_blank">Syarat & Ketentuan</a> dan <a href="#" target="_blank">Kebijakan Privasi</a> RekBer Indonesia
                    </label>
                    <span class="error-message" id="termsCheckError">Anda harus menyetujui Syarat & Ketentuan</span>
                </div>
                
                <button type="submit" class="btn" id="submitBtn">
                    <span>Buat Transaksi</span>
                    <div class="loading" id="loadingIndicator">
                        <div class="spinner"></div>
                        <span>Memproses...</span>
                    </div>
                </button>
            </form>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="alert alert-success">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <div>Transaksi berhasil dibuat! Silakan ikuti petunjuk di bawah untuk melanjutkan proses.</div>
            </div>
            
            <h2 class="text-center">Kode Transaksi</h2>
            <p class="text-center">Gunakan kode transaksi berikut untuk verifikasi dengan admin:</p>
            
            <div class="transaction-code" id="transactionCode">
                RB-12345678
            </div>
            
            <button class="copy-btn tooltip" id="copyBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                Salin Kode
                <span class="tooltiptext" id="copyTooltip">Salin ke clipboard</span>
            </button>
            
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div>Salin kode transaksi di atas</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div>Hubungi admin melalui WhatsApp atau Facebook Messenger di bawah</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div>Kirimkan kode transaksi untuk verifikasi</div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div>Ikuti petunjuk admin untuk melanjutkan proses transaksi</div>
                </div>
            </div>
            
            <div class="info-box">
                <p><strong>Informasi pembayaran:</strong> <span id="feeInfoDomestic">Biaya layanan rekber sebesar 1% dari nilai transaksi akan ditambahkan saat pembayaran.</span><span id="feeInfoInternational" style="display: none;">Biaya layanan rekber internasional sebesar 2% dari nilai transaksi akan ditambahkan saat pembayaran.</span> Pembeli akan mendapatkan instruksi lengkap melalui WhatsApp.</p>
            </div>
            
            <div class="row mb-20">
                <div class="col">
                    <a class="btn btn-whatsapp" id="contactWhatsApp">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                        </svg>
                        Hubungi Admin via WhatsApp
                    </a>
                </div>
                <div class="col">
                    <a class="btn btn-facebook" id="contactAdmin">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385h-3.047v-3.47h3.047v-2.642c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953h-1.514c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385c5.737-.9 10.125-5.864 10.125-11.854z"/>
                        </svg>
                        Hubungi Admin via Facebook
                    </a>
                </div>
            </div>
            
            <div class="alert alert-warning">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <div>
                    <strong>Perhatian:</strong> Transaksi hanya dianggap resmi setelah konfirmasi dari admin. Pastikan kode transaksi yang Anda terima sesuai dengan yang tercantum di atas.
                </div>
            </div>
            
            <button class="btn btn-secondary mt-20" id="backBtn">Kembali ke Beranda</button>
        </div>
    </div>
    
    <div class="container text-center" style="margin-top: 40px; margin-bottom: 20px;">
        <p>&copy; 2025 RekBer Indonesia. Layanan Rekening Bersama Terpercaya.</p>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('rekberForm');
            const resultContainer = document.getElementById('resultContainer');
            const transactionCode = document.getElementById('transactionCode');
            const contactAdmin = document.getElementById('contactAdmin');
            const contactWhatsApp = document.getElementById('contactWhatsApp');
            const copyBtn = document.getElementById('copyBtn');
            const copyTooltip = document.getElementById('copyTooltip');
            const backBtn = document.getElementById('backBtn');
            const submitBtn = document.getElementById('submitBtn');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const fileUpload = document.getElementById('attachment');
            const fileName = document.getElementById('fileName');
            const fileUploadContainer = document.getElementById('fileUploadContainer');
            
            // Transaction region selector
            const transactionRegion = document.getElementById('transactionRegion');
            const domesticSection = document.getElementById('domesticSection');
            const internationalSection = document.getElementById('internationalSection');
            const segmentItems = document.querySelectorAll('.segment-item');
            const domesticOptions = document.querySelectorAll('.domestic-option');
            const internationalOptions = document.querySelectorAll('.international-option');
            const currencySelect = document.getElementById('currencySelect');
            const idrOption = document.getElementById('idrOption');
            const usdOption = document.getElementById('usdOption');
            const feeInfoDomestic = document.getElementById('feeInfoDomestic');
            const feeInfoInternational = document.getElementById('feeInfoInternational');
            
            // Toggle between domestic and international transaction
            segmentItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    segmentItems.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    const value = this.getAttribute('data-value');
                    
                    if (value === 'domestic') {
                        domesticSection.style.display = 'block';
                        internationalSection.style.display = 'none';
                        
                        // Show domestic options in payment method
                        domesticOptions.forEach(opt => opt.style.display = 'block');
                        internationalOptions.forEach(opt => opt.style.display = 'none');
                        
                        // Set currency to IDR
                        currencySelect.value = 'IDR';
                        idrOption.selected = true;
                        document.getElementById('amount').placeholder = 'Minimal Rp10.000';
                        document.getElementById('amountError').textContent = 'Jumlah transaksi minimal Rp10.000';
                        
                        // Update fee display
                        document.querySelector('.domestic-fee').style.display = 'flex';
                        document.querySelector('.international-fee').style.display = 'none';
                        document.querySelector('.crypto-fee').style.display = 'none';
                        
                        // Update fee info in result container
                        feeInfoDomestic.style.display = 'inline';
                        feeInfoInternational.style.display = 'none';
                        
                        // Show domestic shipping options
                        document.getElementById('domesticShippingOptions').style.display = 'block';
                        document.getElementById('internationalShippingOptions').style.display = 'none';
                        document.getElementById('internationalShipping').style.display = 'none';
                        
                        calculatePrices();
                    } else {
                        domesticSection.style.display = 'none';
                        internationalSection.style.display = 'block';
                        
                        // Show international options in payment method
                        domesticOptions.forEach(opt => opt.style.display = 'none');
                        internationalOptions.forEach(opt => opt.style.display = 'block');
                        
                        // Set currency to USD
                        currencySelect.value = 'USD';
                        usdOption.selected = true;
                        document.getElementById('amount').placeholder = 'Minimum $10';
                        document.getElementById('amountError').textContent = 'Minimum transaction amount is $10';
                        
                        // Update fee display
                        document.querySelector('.domestic-fee').style.display = 'none';
                        document.querySelector('.international-fee').style.display = 'flex';
                        
                        // Update fee info in result container
                        feeInfoDomestic.style.display = 'none';
                        feeInfoInternational.style.display = 'inline';
                        
                        // Show international shipping options
                        document.getElementById('domesticShippingOptions').style.display = 'none';
                        document.getElementById('internationalShippingOptions').style.display = 'block';
                        document.getElementById('internationalShipping').style.display = 'block';
                        
                        calculatePricesInternational();
                    }
                });
            });
            
            // International payment method selection logic
            const sellerInternationalPayment = document.getElementById('sellerInternationalPayment');
            const paypalSection = document.getElementById('paypalSection');
            const wiseSection = document.getElementById('wiseSection');
            const skrillSection = document.getElementById('skrillSection');
            const cryptoSection = document.getElementById('cryptoSection');
            const otherIntlSection = document.getElementById('otherIntlSection');
            
            sellerInternationalPayment.addEventListener('change', function() {
                // Hide all sections first
                paypalSection.style.display = 'none';
                wiseSection.style.display = 'none';
                skrillSection.style.display = 'none';
                cryptoSection.style.display = 'none';
                otherIntlSection.style.display = 'none';
                
                // Show selected section
                const value = this.value;
                
                if (value === 'paypal') {
                    paypalSection.style.display = 'block';
                } else if (value === 'wise') {
                    wiseSection.style.display = 'block';
                } else if (value === 'skrill') {
                    skrillSection.style.display = 'block';
                } else if (value === 'crypto') {
                    cryptoSection.style.display = 'block';
                    document.querySelector('.crypto-fee').style.display = 'flex';
                } else if (value === 'other_intl') {
                    otherIntlSection.style.display = 'block';
                }
                
                // Update currency if crypto is selected
                if (value === 'crypto') {
                    updateCryptoFee();
                } else {
                    document.querySelector('.crypto-fee').style.display = 'none';
                    calculatePricesInternational();
                }
            });
            
            // Crypto selection updates fee
            document.getElementById('cryptoCurrency').addEventListener('change', function() {
                updateCryptoFee();
            });
            
            function updateCryptoFee() {
                const cryptoCurrency = document.getElementById('cryptoCurrency').value;
                let fee = '-';
                
                if (cryptoCurrency === 'BTC') {
                    fee = '0.0005 BTC';
                } else if (cryptoCurrency === 'ETH') {
                    fee = '0.002 ETH';
                } else if (cryptoCurrency === 'USDT' || cryptoCurrency === 'USDC') {
                    fee = '1 ' + cryptoCurrency;
                } else if (cryptoCurrency === 'BNB') {
                    fee = '0.005 BNB';
                }
                
                document.getElementById('cryptoFee').textContent = fee;
            }
            
            // Currency selector
            currencySelect.addEventListener('change', function() {
                const value = this.value;
                
                if (value === 'IDR') {
                    // Update active segment to domestic
                    segmentItems.forEach(i => i.classList.remove('active'));
                    document.querySelector('[data-value="domestic"]').classList.add('active');
                    
                    // Show domestic section
                    domesticSection.style.display = 'block';
                    internationalSection.style.display = 'none';
                    
                    // Update placeholder
                    document.getElementById('amount').placeholder = 'Minimal Rp10.000';
                    
                    // Update fee display
                    document.querySelector('.domestic-fee').style.display = 'flex';
                    document.querySelector('.international-fee').style.display = 'none';
                    
                    calculatePrices();
                } else {
                    // Update active segment to international
                    segmentItems.forEach(i => i.classList.remove('active'));
                    document.querySelector('[data-value="international"]').classList.add('active');
                    
                    // Show international section
                    domesticSection.style.display = 'none';
                    internationalSection.style.display = 'block';
                    
                    // Update placeholder
                    document.getElementById('amount').placeholder = 'Minimum $10';
                    
                    // Update fee display
                    document.querySelector('.domestic-fee').style.display = 'none';
                    document.querySelector('.international-fee').style.display = 'flex';
                    
                    calculatePricesInternational();
                }
            });
            
            // Form validation
            const validatePhone = (phone) => {
                const phoneRegex = /^08[1-9][0-9]{7,11}$/;
                return phoneRegex.test(phone);
            };
            
            const validateEmail = (email) => {
                if (!email) return true; // Email is optional
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            };
            
            const validateAccount = (account) => {
                return /^\d{6,15}$/.test(account);
            };
            
            // Show error message
            const showError = (inputId, errorId, isError) => {
                const input = document.getElementById(inputId);
                const errorMsg = document.getElementById(errorId);
                
                if (isError) {
                    input.classList.add('input-error');
                    errorMsg.style.display = 'block';
                } else {
                    input.classList.remove('input-error');
                    errorMsg.style.display = 'none';
                }
                
                return !isError;
            };
            
            // Validate form
            const validateForm = () => {
                let isValid = true;
                
                // Validate seller name
                isValid = showError('sellerName', 'sellerNameError', !document.getElementById('sellerName').value.trim()) && isValid;
                
                // Validate seller phone
                const sellerPhone = document.getElementById('sellerPhone').value.trim();
                isValid = showError('sellerPhone', 'sellerPhoneError', !validatePhone(sellerPhone)) && isValid;
                
                // Get transaction type (domestic/international)
                const isInternational = document.querySelector('[data-value="international"]').classList.contains('active');
                
                if (!isInternational) {
                    // Validate domestic seller bank
                    isValid = showError('sellerBank', 'sellerBankError', !document.getElementById('sellerBank').value) && isValid;
                    
                    // Validate domestic seller account
                    const sellerAccount = document.getElementById('sellerAccount').value.trim();
                    isValid = showError('sellerAccount', 'sellerAccountError', !validateAccount(sellerAccount)) && isValid;
                } else {
                    // Validate international payment method
                    isValid = showError('sellerInternationalPayment', 'sellerInternationalPaymentError', !document.getElementById('sellerInternationalPayment').value) && isValid;
                    
                    // Validate specific international payment details
                    const paymentMethod = document.getElementById('sellerInternationalPayment').value;
                    
                    if (paymentMethod === 'paypal') {
                        const paypalEmail = document.getElementById('paypalEmail').value.trim();
                        isValid = showError('paypalEmail', 'paypalEmailError', !validateEmail(paypalEmail)) && isValid;
                    } else if (paymentMethod === 'wise') {
                        const wiseEmail = document.getElementById('wiseEmail').value.trim();
                        isValid = showError('wiseEmail', 'wiseEmailError', !validateEmail(wiseEmail)) && isValid;
                    } else if (paymentMethod === 'skrill') {
                        const skrillEmail = document.getElementById('skrillEmail').value.trim();
                        isValid = showError('skrillEmail', 'skrillEmailError', !validateEmail(skrillEmail)) && isValid;
                    } else if (paymentMethod === 'crypto') {
                        isValid = showError('cryptoCurrency', 'cryptoCurrencyError', !document.getElementById('cryptoCurrency').value) && isValid;
                        isValid = showError('walletAddress', 'walletAddressError', !document.getElementById('walletAddress').value.trim()) && isValid;
                    } else if (paymentMethod === 'other_intl') {
                        isValid = showError('otherIntlMethod', 'otherIntlMethodError', !document.getElementById('otherIntlMethod').value.trim()) && isValid;
                        isValid = showError('otherIntlDetails', 'otherIntlDetailsError', !document.getElementById('otherIntlDetails').value.trim()) && isValid;
                    }
                }
                
                // Validate buyer name
                isValid = showError('buyerName', 'buyerNameError', !document.getElementById('buyerName').value.trim()) && isValid;
                
                // Validate buyer phone
                const buyerPhone = document.getElementById('buyerPhone').value.trim();
                isValid = showError('buyerPhone', 'buyerPhoneError', !validatePhone(buyerPhone)) && isValid;
                
                // Validate buyer email
                const buyerEmail = document.getElementById('buyerEmail').value.trim();
                isValid = showError('buyerEmail', 'buyerEmailError', !validateEmail(buyerEmail)) && isValid;
                
                // Validate item description
                isValid = showError('itemDescription', 'itemDescriptionError', !document.getElementById('itemDescription').value.trim()) && isValid;
                
                // Validate amount based on currency
                const amount = document.getElementById('amount').value;
                const currency = document.getElementById('currencySelect').value;
                
                if (currency === 'IDR') {
                    isValid = showError('amount', 'amountError', !amount || amount < 10000) && isValid;
                } else {
                    isValid = showError('amount', 'amountError', !amount || amount < 10) && isValid;
                }
                
                // Validate payment method
                isValid = showError('paymentMethod', 'paymentMethodError', !document.getElementById('paymentMethod').value) && isValid;
                
                // Validate transaction type
                isValid = showError('transactionType', 'transactionTypeError', !document.getElementById('transactionType').value) && isValid;
                
                // Validate terms
                isValid = showError('termsCheck', 'termsCheckError', !document.getElementById('termsCheck').checked) && isValid;
                
                return isValid;
            };
            
            // File upload handler
            fileUpload.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const file = this.files[0];
                    
                    // Check file size (5MB max)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('Ukuran file terlalu besar. Maksimal 5MB.');
                        this.value = '';
                        fileName.textContent = '';
                        return;
                    }
                    
                    // Check file type
                    const validTypes = ['image/jpeg', 'image/png', 'application/pdf'];
                    if (!validTypes.includes(file.type)) {
                        alert('Format file tidak didukung. Gunakan JPG, PNG, atau PDF.');
                        this.value = '';
                        fileName.textContent = '';
                        return;
                    }
                    
                    fileName.textContent = file.name;
                    fileUploadContainer.style.borderColor = 'var(--primary-color)';
                }
            });
            
            // Drag and drop for file upload
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                fileUploadContainer.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                fileUploadContainer.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                fileUploadContainer.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                fileUploadContainer.style.borderColor = 'var(--primary-color)';
                fileUploadContainer.style.backgroundColor = '#f0f9ff';
            }
            
            function unhighlight() {
                fileUploadContainer.style.borderColor = '#d1d5db';
                fileUploadContainer.style.backgroundColor = 'white';
            }
            
            fileUploadContainer.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                if (files && files[0]) {
                    fileUpload.files = files;
                    const event = new Event('change');
                    fileUpload.dispatchEvent(event);
                }
            }
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate form
                if (!validateForm()) {
                    return;
                }
                
                // Show loading indicator
                submitBtn.querySelector('span').style.display = 'none';
                loadingIndicator.style.display = 'flex';
                
                // Simulate API call
                setTimeout(function() {
                    // Generate random transaction code
                    const randomCode = 'RB-' + Math.floor(Math.random() * 90000000 + 10000000);
                    transactionCode.textContent = randomCode;
                    
                    // Update progress bar
                    document.querySelector('.progress-step.active').classList.add('completed');
                    document.querySelector('.progress-step.active').classList.remove('active');
                    document.querySelectorAll('.progress-step')[2].classList.add('active');
                    
                    // Show/hide fee information based on transaction type
                    const isInternational = document.querySelector('[data-value="international"]').classList.contains('active');
                    document.getElementById('feeInfoDomestic').style.display = isInternational ? 'none' : 'inline';
                    document.getElementById('feeInfoInternational').style.display = isInternational ? 'inline' : 'none';
                    
                    // Hide form and show result
                    form.parentElement.style.display = 'none';
                    resultContainer.style.display = 'block';
                    
                    // Scroll to result
                    resultContainer.scrollIntoView({behavior: 'smooth'});
                }, 1500);
            });
            
            // Copy transaction code
            copyBtn.addEventListener('click', function() {
                const code = transactionCode.textContent.trim();
                navigator.clipboard.writeText(code)
                    .then(() => {
                        copyTooltip.textContent = 'Tersalin!';
                        setTimeout(() => {
                            copyTooltip.textContent = 'Salin ke clipboard';
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('Gagal menyalin: ', err);
                    });
            });
            
            // Calculate prices based on amount (IDR)
            function calculatePrices() {
                const amount = parseFloat(document.getElementById('amount').value) || 0;
                const adminFee = amount * 0.01; // 1% admin fee for domestic
                const total = amount + adminFee;
                
                // Format as Indonesian Rupiah
                const formatter = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                });
                
                document.getElementById('transactionValue').textContent = formatter.format(amount);
                document.getElementById('adminFee').textContent = formatter.format(adminFee);
                document.getElementById('totalPayment').textContent = formatter.format(total);
                
                // Show/hide price summary
                if (amount >= 10000) {
                    document.getElementById('priceSummary').style.display = 'block';
                } else {
                    document.getElementById('priceSummary').style.display = 'none';
                }
            }
            
            // Calculate prices based on amount (USD)
            function calculatePricesInternational() {
                const amount = parseFloat(document.getElementById('amount').value) || 0;
                const adminFee = amount * 0.02; // 2% admin fee for international
                const total = amount + adminFee;
                
                // Format as USD
                const formatter = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                
                document.getElementById('transactionValue').textContent = formatter.format(amount);
                document.getElementById('adminFeeIntl').textContent = formatter.format(adminFee);
                document.getElementById('totalPayment').textContent = formatter.format(total);
                
                // Show/hide price summary
                if (amount >= 10) {
                    document.getElementById('priceSummary').style.display = 'block';
                } else {
                    document.getElementById('priceSummary').style.display = 'none';
                }
            }
            
            // Listen for amount changes
            document.getElementById('amount').addEventListener('input', function() {
                const currency = document.getElementById('currencySelect').value;
                
                if (currency === 'IDR') {
                    calculatePrices();
                } else {
                    calculatePricesInternational();
                }
            });
            
            // Show/hide shipping section based on transaction type
            document.getElementById('transactionType').addEventListener('change', function() {
                const transactionType = this.value;
                const shippingSection = document.getElementById('shippingSection');
                
                if (transactionType === 'goods') {
                    shippingSection.style.display = 'block';
                    
                    // Show appropriate shipping options based on transaction type
                    const isInternational = document.querySelector('[data-value="international"]').classList.contains('active');
                    document.getElementById('domesticShippingOptions').style.display = isInternational ? 'none' : 'block';
                    document.getElementById('internationalShippingOptions').style.display = isInternational ? 'block' : 'none';
                    document.getElementById('internationalShipping').style.display = isInternational ? 'block' : 'none';
                } else {
                    shippingSection.style.display = 'none';
                    
                    // Reset shipping calculations if transaction type is changed
                    const shippingCostRow = document.getElementById('shippingCostRow');
                    if (shippingCostRow) {
                        shippingCostRow.remove();
                        
                        // Recalculate without shipping
                        const currency = document.getElementById('currencySelect').value;
                        if (currency === 'IDR') {
                            calculatePrices();
                        } else {
                            calculatePricesInternational();
                        }
                    }
                    
                    // Hide shipping options
                    document.getElementById('shippingOptions').style.display = 'none';
                    
                    // Unselect all shipping options
                    document.querySelectorAll('.shipping-option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.querySelector('input[type="radio"]').checked = false;
                    });
                }
            });
            
            // Shipping calculator button
            document.getElementById('calculateShipping').addEventListener('click', function() {
                const isInternational = document.querySelector('[data-value="international"]').classList.contains('active');
                
                if (isInternational) {
                    // Validate international shipping fields
                    const origin = document.getElementById('internationalOriginCountry').value;
                    const destination = document.getElementById('internationalDestinationCountry').value;
                    const weight = document.getElementById('weight').value;
                    
                    if (!origin || !destination || !weight) {
                        alert('Silakan isi negara asal, negara tujuan, dan berat paket terlebih dahulu.');
                        return;
                    }
                    
                    // Show international shipping options
                    document.getElementById('shippingOptions').style.display = 'block';
                    document.getElementById('internationalShippingOptions').style.display = 'block';
                    document.getElementById('domesticShippingOptions').style.display = 'none';
                    
                    // Simulate international shipping API response
                    simulateInternationalShippingApiCall(origin, destination, weight);
                } else {
                    // Validate domestic shipping fields
                    const origin = document.getElementById('originCity').value;
                    const destination = document.getElementById('destinationCity').value;
                    const weight = document.getElementById('weight').value;
                    
                    if (!origin || !destination || !weight) {
                        alert('Silakan isi kota asal, kota tujuan, dan berat paket terlebih dahulu.');
                        return;
                    }
                    
                    // Show domestic shipping options
                    document.getElementById('shippingOptions').style.display = 'block';
                    document.getElementById('domesticShippingOptions').style.display = 'block';
                    document.getElementById('internationalShippingOptions').style.display = 'none';
                    
                    // Simulate domestic shipping API response
                    simulateDomesticShippingApiCall(origin, destination, weight);
                }
            });
            
            function simulateDomesticShippingApiCall(origin, destination, weight) {
                // Calculate base prices based on weight and distance
                const weightKg = parseFloat(weight) / 1000;
                let basePrice = 15000; // Base price
                
                // Adjust price based on cities (simple simulation)
                const cities = {
                    'JKT': 0,    // Jakarta as base
                    'BDG': 1,    // Bandung (close)
                    'SMG': 2,    // Semarang (medium)
                    'SBY': 3,    // Surabaya (far)
                    'MDN': 4     // Medan (very far)
                };
                
                // Calculate "distance" between cities
                const distance = Math.abs(cities[origin] - cities[destination]);
                const distanceMultiplier = 1 + (distance * 0.2); // 20% increase per "distance unit"
                
                // Final price calculations for each courier
                const jnePrice = Math.round((basePrice * distanceMultiplier * weightKg) / 1000) * 1000;
                const jntPrice = Math.round((basePrice * 1.1 * distanceMultiplier * weightKg) / 1000) * 1000; // J&T is 10% more expensive
                const sicepatPrice = Math.round((basePrice * 1.2 * distanceMultiplier * weightKg) / 1000) * 1000; // SiCepat is 20% more expensive
                
                // Format prices
                const formatter = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                });
                
                // Update the shipping options with calculated prices
                document.querySelector('#shipping1').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(jnePrice);
                document.querySelector('#shipping2').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(jntPrice);
                document.querySelector('#shipping3').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(sicepatPrice);
                
                // Update estimated delivery times based on distance
                const jneEstimate = 1 + distance + ' hari';
                const jntEstimate = 1 + Math.floor(distance * 0.7) + ' hari'; // J&T slightly faster
                const sicepatEstimate = 1 + Math.floor(distance * 0.5) + ' hari'; // SiCepat fastest
                
                document.querySelector('#shipping1').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimasi ' + jneEstimate;
                document.querySelector('#shipping2').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimasi ' + jntEstimate;
                document.querySelector('#shipping3').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimasi ' + sicepatEstimate;
            }
            
            function simulateInternationalShippingApiCall(origin, destination, weight) {
                // Calculate base prices based on weight and distance
                const weightKg = parseFloat(weight) / 1000;
                let basePrice = 30; // Base price in USD
                
                // Adjust price based on countries (simple simulation)
                const countries = {
                    'ID': 0, // Indonesia
                    'SG': 1, // Singapore (close)
                    'MY': 1, // Malaysia (close)
                    'AU': 2, // Australia (medium)
                    'JP': 2, // Japan (medium)
                    'KR': 2, // South Korea (medium)
                    'CN': 2, // China (medium)
                    'US': 3, // USA (far)
                    'UK': 3, // UK (far)
                    'DE': 3  // Germany (far)
                };
                
                // Calculate "distance" factor
                let distanceFactor = 1;
                
                if (countries[origin] !== undefined && countries[destination] !== undefined) {
                    // Distance between countries affects the price
                    const distance = Math.abs(countries[origin] - countries[destination]);
                    distanceFactor = 1 + (distance * 0.5); // 50% increase per "distance unit"
                }
                
                // Final price calculations for each courier
                const dhlPrice = Math.round((basePrice * distanceFactor * weightKg) * 1.2); // DHL premium
                const fedexPrice = Math.round((basePrice * distanceFactor * weightKg) * 1.3); // FedEx more expensive
                const upsPrice = Math.round((basePrice * distanceFactor * weightKg) * 1.25); // UPS in between
                
                // Format prices
                const formatter = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                
                // Update the shipping options with calculated prices
                document.querySelector('#shippingIntl1').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(dhlPrice);
                document.querySelector('#shippingIntl2').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(fedexPrice);
                document.querySelector('#shippingIntl3').closest('.shipping-option').querySelector('.shipping-price').textContent = formatter.format(upsPrice);
                
                // Update estimated delivery times based on distance factor
                const dhlEstimate = 2 + Math.floor(distanceFactor) + ' days';
                const fedexEstimate = 1 + Math.floor(distanceFactor) + ' days'; // FedEx slightly faster
                const upsEstimate = 2 + Math.floor(distanceFactor * 1.2) + ' days'; // UPS slower
                
                document.querySelector('#shippingIntl1').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimated ' + dhlEstimate;
                document.querySelector('#shippingIntl2').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimated ' + fedexEstimate;
                document.querySelector('#shippingIntl3').closest('.shipping-option').querySelector('.shipping-estimate').textContent = 'Estimated ' + upsEstimate;
            }
            
            // Handle shipping option selection
            const shippingOptions = document.querySelectorAll('.shipping-option');
            shippingOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Deselect all options
                    shippingOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Select clicked option and check radio button
                    this.classList.add('selected');
                    this.querySelector('input[type="radio"]').checked = true;
                    
                    // Update price summary with shipping cost
                    const shippingPrice = this.querySelector('.shipping-price').textContent;
                    const shippingPriceText = shippingPrice.trim();
                    
                    // Check if it's international or domestic by looking at the currency symbol
                    const isInternational = shippingPriceText.includes(');
                    
                    if (isInternational) {
                        // Extract USD price
                        const shippingPriceNumeric = parseFloat(shippingPriceText.replace(/[^\d.]/g, ''));
                        calculatePricesWithInternationalShipping(shippingPriceNumeric);
                    } else {
                        // Extract IDR price
                        const shippingPriceNumeric = parseFloat(shippingPriceText.replace(/[^\d]/g, ''));
                        calculatePricesWithDomesticShipping(shippingPriceNumeric);
                    }
                });
            });
            
            function calculatePricesWithDomesticShipping(shippingCost) {
                const amount = parseFloat(document.getElementById('amount').value) || 0;
                const adminFee = amount * 0.01; // 1% admin fee
                const total = amount + adminFee + shippingCost;
                
                // Format as Indonesian Rupiah
                const formatter = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                });
                
                // Add or update shipping row in price summary
                updateShippingCostRow(formatter.format(shippingCost));
                document.getElementById('totalPayment').textContent = formatter.format(total);
            }
            
            function calculatePricesWithInternationalShipping(shippingCost) {
                const amount = parseFloat(document.getElementById('amount').value) || 0;
                const adminFee = amount * 0.02; // 2% admin fee for international
                const total = amount + adminFee + shippingCost;
                
                // Format as USD
                const formatter = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                
                // Add or update shipping row in price summary
                updateShippingCostRow(formatter.format(shippingCost));
                document.getElementById('totalPayment').textContent = formatter.format(total);
            }
            
            function updateShippingCostRow(formattedCost) {
                let shippingRow = document.getElementById('shippingCostRow');
                if (!shippingRow) {
                    shippingRow = document.createElement('div');
                    shippingRow.id = 'shippingCostRow';
                    shippingRow.className = 'price-row';
                    
                    const labelSpan = document.createElement('span');
                    labelSpan.textContent = 'Biaya Pengiriman';
                    
                    const valueSpan = document.createElement('span');
                    valueSpan.id = 'shippingCost';
                    
                    shippingRow.appendChild(labelSpan);
                    shippingRow.appendChild(valueSpan);
                    
                    // Insert before total row
                    const totalRow = document.querySelector('.price-row.total');
                    totalRow.parentNode.insertBefore(shippingRow, totalRow);
                }
                
                document.getElementById('shippingCost').textContent = formattedCost;
            }
            
            // Contact admin via Facebook button
            contactAdmin.addEventListener('click', function() {
                // Replace with your actual Facebook page URL
                window.open('https://www.facebook.com/rekberindonesia', '_blank');
            });
            
            // Contact admin via WhatsApp button
            contactWhatsApp.addEventListener('click', function() {
                // Replace with your actual WhatsApp number and message
                const code = transactionCode.textContent.trim();
                const message = `Halo Admin RekBer, saya ingin verifikasi transaksi dengan kode: ${code}`;
                window.open(`https://wa.me/628123456789?text=${encodeURIComponent(message)}`, '_blank');
            });
            
            // Real-time input validation
            document.getElementById('sellerPhone').addEventListener('input', function() {
                showError('sellerPhone', 'sellerPhoneError', this.value.trim() && !validatePhone(this.value.trim()));
            });
            
            document.getElementById('buyerPhone').addEventListener('input', function() {
                showError('buyerPhone', 'buyerPhoneError', this.value.trim() && !validatePhone(this.value.trim()));
            });
            
            document.getElementById('buyerEmail').addEventListener('input', function() {
                showError('buyerEmail', 'buyerEmailError', this.value.trim() && !validateEmail(this.value.trim()));
            });
            
            document.getElementById('sellerAccount').addEventListener('input', function() {
                showError('sellerAccount', 'sellerAccountError', this.value.trim() && !validateAccount(this.value.trim()));
            });
            
            document.getElementById('amount').addEventListener('input', function() {
                const currency = document.getElementById('currencySelect').value;
                
                if (currency === 'IDR') {
                    showError('amount', 'amountError', this.value && this.value < 10000);
                    calculatePrices();
                } else {
                    showError('amount', 'amountError', this.value && this.value < 10);
                    calculatePricesInternational();
                }
            });
            
            // Init
            calculatePrices();
            
            // Back button in result screen
            backBtn.addEventListener('click', function() {
                window.location.href = '/';
            });
        });
    </script>
</body>
</html>
